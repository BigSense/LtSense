[Controller]
class = controller.DefaultController
sensorHandlers = class-ref\{AgraNetSensors}
sampleRate = 60.0
dataHandlers = class-ref\{AgraData}

; -- Transport --

[QueuedHttpPostTransport]
class=transport.http.QueuedHttpPostTransport
url = http://staging-services.bigsense.org/BigSense/api/Sensor.ltsense.xml
queue = class-ref\SQLiteQueue
pause_rate = 1.0
timeout = 10.0

[MemoryQueue]
class = queue.MemoryQueue

[SQLiteQueue]
class=queue.SQLiteQueue
dataFile=/mnt/usb/ltsense/buffer/local.db

; -- Data --

[AgraData]
class = data.AgraDataHandler
transports = class-ref\{QueuedHttpPostTransport}
identifier = class-ref\NamedIdentifier

;-- Identifier

[NamedIdentifier]
class = identification.NamedIdentifier
id = Example-OpenWRT

;-- External Process Communication
; Old -- deprecated
;[AgraNetProcess]
;class=process.ExternalProcessHandler
;command=/opt/greenqry

[OneWireNative]
class = process.OneWireNativeProcessHandler
port = ds2490-1

[AgraNetSensors]
class = sensors.handlers.AgraNetSensorHandler
extProcess = class-ref\OneWireNative
counterType = Fluid

; -- Sensors --


[FlowRateSensor]
class = sensors.owproc.FlowRateSensor
units = l 
bucket_volume = 0.28011

[FluidVolumeSensor]
class = sensors.owproc.FluidVolumeSensor
units = l
bucket_volume = 0.28011
countDir = /mnt/usb/ltsense/counts

[PhotoSensor]
class = sensors.camera.PhotoSensor
id = ExampleCamera
resolution = 1024x768
mode = mjpg
device = /dev/video0
